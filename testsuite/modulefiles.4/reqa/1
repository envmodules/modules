#%Module
if {[info exists env(TESTSUITE_REQUIRE_VIA)]} {
    switch -- $env(TESTSUITE_REQUIRE_VIA) {
        indirect_opt_req1 {
            prereq --optional reqb/1
        }
        indirect_req1 {
            prereq reqb/1
        }
        indirect_conflict1 {
            conflict reqb
        }
    }
}
if {[info exists env(TESTSUITE_PROVIDE)]} {
    switch -- $env(TESTSUITE_PROVIDE) {
        duplicate_with_ext {
            prereq foo/1
        }
        duplicate_with_ext_module {
            prereq bar/1
        }
        duplicate_with_ext_family - duplicate_with_ext_same_alias -\
        duplicate_with_ext_diff_alias {
            prereq foo
        }
        duplicate_with_ext_same_version - duplicate_with_ext_diff_version {
            prereq provide/foo
        }
    }
}
